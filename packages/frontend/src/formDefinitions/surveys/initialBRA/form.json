{
  "type": "form",
  "display": "wizard",
  "components": [
    {
      "key": "householdInfo",
      "label": "householdInfo",
      "type": "panel",
      "components": [
        {
          "key": "sharePhoneNumber",
          "label": "sharePhoneNumberConsent",
          "type": "radio",
          "validate": {
            "required": true
          },
          "values": [
            {
              "label": "consentToSharingPhoneNumber",
              "value": "yes"
            },
            {
              "label": "willNotSharePhoneNumber",
              "value": "no"
            }
          ]
        },
        {
          "key": "phoneNumber",
          "label": "enterPhoneNumber",
          "type": "phoneNumber",
          "inputMask": "99 99 99 999",
          "validate": {
            "required": true
          },
          "conditional": {
            "show": true,
            "when": "sharePhoneNumber",
            "eq": "yes"
          }
        },
        {
          "key": "followUpId",
          "type": "customFollowUpId",
          "conditional": {
            "show": true,
            "when": "sharePhoneNumber",
            "eq": "no"
          }
        },
        {
          "key": "district",
          "label": "district",
          "type": "select",
          "validate": {
            "required": true
          },
          "dataSrc": "values",
          "data": {
            "values": [
              {
                "label": "Yaaqshiid",
                "value": "Yaaqshiid"
              },
              {
                "label": "Warta-Nabada",
                "value": "Warta-Nabada"
              },
              {
                "label": "C/casiis",
                "value": "C/casiis"
              },
              {
                "label": "Deyniile",
                "value": "Deyniile"
              },
              {
                "label": "Boondheere",
                "value": "Boondheere"
              },
              {
                "label": "Wadajir",
                "value": "Wadajir"
              },
              {
                "label": "Howl-wadaag",
                "value": "Howl-wadaag"
              },
              {
                "label": "Heliwaa",
                "value": "Heliwaa"
              },
              {
                "label": "Garasbaley",
                "value": "Garasbaley"
              },
              {
                "label": "Gubadley",
                "value": "Gubadley"
              },
              {
                "label": "Kaaraan",
                "value": "Kaaraan"
              },
              {
                "label": "Dharkenley",
                "value": "Dharkenley"
              },
              {
                "label": "Kaxda",
                "value": "Kaxda"
              },
              {
                "label": "Shangani",
                "value": "Shangani"
              },
              {
                "label": "Xamarweyne",
                "value": "Xamarweyne"
              },
              {
                "label": "Hodan",
                "value": "Hodan"
              },
              {
                "label": "Shibis",
                "value": "Shibis"
              },
              {
                "label": "Xamar Jajab",
                "value": "Xamar Jajab"
              },
              {
                "label": "Waabri",
                "value": "Waabri"
              }
            ]
          }
        },
        {
          "i18nKey": "RESIDENTS",
          "type": "customText",
          "key": "customTextEResidentsSection"
        },
        {
          "key": "residentsCount",
          "label": "residentsCount",
          "type": "number",
          "validate": {
            "required": true,
            "min": 0,
            "max": 25
          }
        },
        {
          "key": "birthsCount",
          "label": "birthsCount",
          "type": "number",
          "validate": {
            "required": true,
            "min": 0,
            "max": 25
          }
        },
        {
          "key": "movedInCount",
          "label": "movedInCount",
          "type": "number",
          "validate": {
            "required": true,
            "min": 0,
            "max": 25
          }
        },
        {
          "key": "movedOutCount",
          "label": "movedOutCount",
          "type": "number",
          "validate": {
            "required": true,
            "min": 0,
            "max": 25
          }
        },
        {
          "key": "deathsCount",
          "label": "deathsCount",
          "type": "number",
          "validate": {
            "required": true,
            "min": 0,
            "max": 25
          }
        }
      ]
    },
    {
      "label": "newborns",
      "type": "panel",
      "components": [
        {
          "key": "newbornResidents",
          "label": "newbornResidents",
          "type": "editgrid",
          "validate": {
            "custom": "valid = data.newbornResidents.length == data.birthsCount;",
            "customMessage": "The number of newborns should match the number of residents in the household."
          },
          "openWhenEmpty": false,
          "hideLabel": true,
          "templates": {
            "header": "<div class=\"row\">\n  NEWBORNS </div>"
          },
          "components": [
            {
              "key": "age",
              "label": "ageQuestion",
              "type": "number",
              "validate": {
                "required": true,
                "min": 0,
                "max": 110
              }
            },
            {
              "key": "gender",
              "label": "genderQuestion",
              "type": "textfield",
              "validate": {
                "required": true
              }
            },
            {
              "key": "birthdate",
              "label": "birthday",
              "format": "yyyy-MM-dd",
              "tableView": false,
              "datePicker": {
                "maxDate": "moment()",
                "minDate": "2019-10-1"
              },
              "validate": {
                "required": true
              },
              "type": "datetime",
              "widget": {
                "type": "calendar",
                "displayInTimezone": "viewer",
                "useLocaleSettings": true,
                "format": "yyyy-MM-dd",
                "time_24hr": true,
                "minDate": "2019-10-1",
                "maxDate": "moment()"
              }
            }
          ]
        }
      ]
    },
    {
      "label": "movedOutResidents",
      "type": "panel",
      "components": [
        {
          "key": "movedOut",
          "label": "movedOut",
          "type": "editgrid",
          "validate": {
            "minLength": "data.residentsCount;",
            "custom": "valid = data.movedOutCount === data.movedOut.length;",
            "customMessage": "The number of individuals who moved out should match the number entered."
          },
          "hideLabel": true,
          "templates": {
            "header": "<div class=\"row\">\n  FORMER RESIDENTS </div>"
          },
          "components": [
            {
              "key": "movedOutDate",
              "label": "movedOutDate",
              "format": "yyyy-MM-dd",
              "tableView": false,
              "datePicker": {
                "maxDate": "moment()",
                "minDate": "2019-10-1"
              },
              "validate": {
                "required": true
              },
              "type": "datetime",
              "widget": {
                "type": "calendar",
                "displayInTimezone": "viewer",
                "useLocaleSettings": true,
                "format": "yyyy-MM-dd",
                "time_24hr": true,
                "minDate": "2019-10-1",
                "maxDate": "moment()"
              }
            },
            {
              "key": "age",
              "label": "ageQuestion",
              "type": "number",
              "validate": {
                "required": true,
                "min": 0,
                "max": 110
              }
            },
            {
              "key": "gender",
              "label": "genderQuestion",
              "type": "textfield",
              "validate": {
                "required": true
              }
            }
          ]
        }
      ]
    },
    {
      "label": "deaths",
      "type": "panel",
      "components": [
        {
          "key": "deaths",
          "label": "deaths",
          "type": "editgrid",
          "validate": {
            "custom": "valid = data.deathsCount === data.deaths.length;",
            "customMessage": "The number of deceased individuals should match the number entered."
          },
          "hideLabel": true,
          "templates": {
            "header": "<div class=\"row\">\n  DECEASED RESIDENTS </div>"
          },
          "components": [
            {
              "key": "age",
              "label": "ageQuestion",
              "type": "number",
              "validate": {
                "required": true,
                "min": 0,
                "max": 110
              }
            },
            {
              "key": "gender",
              "label": "genderQuestion",
              "type": "textfield",
              "validate": {
                "required": true
              }
            },
            {
              "key": "deathDate",
              "label": "deathDate",
              "format": "yyyy-MM-dd",
              "tableView": false,
              "datePicker": {
                "maxDate": "moment()",
                "minDate": "2019-10-1"
              },
              "validate": {
                "required": true
              },
              "type": "datetime",
              "widget": {
                "type": "calendar",
                "displayInTimezone": "viewer",
                "useLocaleSettings": true,
                "format": "yyyy-MM-dd",
                "time_24hr": true,
                "minDate": "2019-10-1",
                "maxDate": "moment()"
              }
            }
          ]
        }
      ]
    }
  ]
}
